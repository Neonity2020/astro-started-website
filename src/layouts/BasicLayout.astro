---
import Footer from "../components/Footer.astro";
import MainContent from "../components/MainContent.astro";
import TopNav from "../components/TopNav.astro";

export type Props = {
  mainContent?: {
    mainTitle?: string;
    mainDesption?: string;
    isNarrow?: boolean;
  };

  title?: string;
};
const { mainContent, title = "首页" } = Astro.props as Props;
const { mainTitle, mainDesption, isNarrow } = mainContent || {};
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <style>
      #menu {
        display: none !important;
      }

      #menu.open {
        display: flex !important;
      }

      .tabbed-content li {
        margin-right: 5px;
      }

      .tab-link {
        border-radius: 0.375rem;
        border-width: 2px;
        border-color: transparent;
        --tw-bg-opacity: 1;
        background-color: rgb(248 250 252 / var(--tw-bg-opacity));
        padding: 0.5rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5rem;
        font-weight: 500;
        --tw-text-opacity: 1;
        color: rgb(100 116 139 / var(--tw-text-opacity));
        text-decoration-line: none;
        transition-property: color, background-color, border-color,
          text-decoration-color, fill, stroke;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 0.2s;
      }

      .tab-link.tab-active {
        cursor: default;
        --tw-border-opacity: 1;
        border-color: rgb(126 34 206 / var(--tw-border-opacity));
        --tw-bg-opacity: 1;
        background-color: rgb(243 232 255 / var(--tw-bg-opacity));
        --tw-text-opacity: 1;
        color: rgb(126 34 206 / var(--tw-text-opacity));
      }

      .code-content {
        min-height: 120px;
        margin: auto;
        background-color: #0d1117;
        color: #fff;
        padding: 10px;
      }

      @media (min-width: 640px) {
        #menu {
          display: flex !important;
        }
      }
    </style>
  </head>

  <body>
    <div class="min-h-screen flex flex-col overflow-x-hidden">
      <TopNav />
      <main class="flex-1">
        {
          mainContent && (
            <MainContent
              title={mainTitle}
              desption={mainDesption}
              isNarrow={isNarrow}
            />
          )
        }

        <slot />
      </main>
      <Footer />
    </div>
  </body>
</html>
